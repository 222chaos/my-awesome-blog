## 前端项目优化方案

### 优化 1: 重构 userService.ts，移除冗余并清理代码
**问题**:
- `userService.ts` 中的 `loginUser`, `getCurrentUser`, `logoutUser` 函数直接调用 `lib/api/auth.ts` 中的同名函数，没有额外价值
- `getUserProfile`, `updateUserProfile`, `uploadAvatar`, `updatePassword` 函数是 mock 函数，与真实 API 冲突
- 只有 `validateSocialLink` 是独立有用的函数

**方案**:
1. 将 `validateSocialLink` 移动到 `lib/utils.ts` 或 `lib/validation.ts`
2. 删除 `userService.ts` 文件
3. 更新所有导入语句：
   - `login-content.tsx`: 使用 `loginApi` from `@/lib/api/auth`
   - `useAuthCheck.ts`: 使用 `getCurrentUserApi` from `@/lib/api/auth`
   - `profile/page.tsx`: 使用 `getCurrentUserApi` from `@/lib/api/auth`
   - `EditModeForm.tsx`: 使用 `validateSocialLink` from `@/lib/utils`

### 优化 2: 清理 lib/api/profile.ts 的 mock 函数
**问题**:
- `lib/api/profile.ts` 混合了真实 API 和 mock 函数
- `updateUserProfile` 函数有回退到 mock 的逻辑

**方案**:
1. 删除所有 mock 函数：`getMockUserProfile`, `getMockUserStats`, `updateMockUserProfile`, `uploadMockAvatar`
2. 将 `updateUserProfile` 改为只调用真实 API
3. 将 `fetchCurrentUserStats` 改为调用后端 `/users/me/stats` 端点（如果存在）
4. 移除 mock 回退逻辑

### 优化 3: 统一 token 存储键名
**问题**:
- 不同服务使用不同键名：`auth_token`, `access_token`

**方案**:
1. 在 `lib/auth-utils.ts` 中创建统一的 token 管理函数
2. 所有服务统一使用 `auth_token` 键名

### 优化 4: 清理重复的类型定义
**问题**:
- `types/index.ts`, `lib/api/profile.ts`, `services/articleService.ts` 都有类型定义

**方案**:
1. 保持 `types/index.ts` 作为唯一类型来源
2. 从 `lib/api/profile.ts` 和 `services/articleService.ts` 移除重复类型定义

### 实施计划
1. 将 `validateSocialLink` 移动到 `lib/validation.ts`（新文件）
2. 删除 `userService.ts`
3. 更新所有导入
4. 清理 `lib/api/profile.ts`
5. 创建 `lib/auth-utils.ts` 统一 token 管理