## 修复计划

### 问题

前端构建失败，因为缺少 `@/lib/env` 模块，但多个文件引用了它。

### 解决方案

创建 `frontend/src/lib/env.ts` 文件，提供环境变量访问。

### 步骤

1. **创建 env.ts 文件**

   * 位置：`frontend/src/lib/env.ts`

   * 内容：导出所有环境变量，提供类型安全

   * 使用 `process.env` 直接访问

2. **需要导出的环境变量**

   * `NEXT_PUBLIC_API_URL` - 后端 API 地址

   * `NEXT_PUBLIC_API_BASE_URL` - 备用 API 地址

   * `NEXT_PUBLIC_SITE_URL` - 站点 URL

   * `NEXT_PUBLIC_POSTS_PER_PAGE` - 每页文章数

   * `NODE_ENV` - 运行环境

3. **验证**

   * 重启开发服务器

   * 确认构建成功 

   * 测试页面加载

### 文件内容预览

```typescript
const env = {
  NEXT_PUBLIC_API_URL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8989/api/v1',
  NEXT_PUBLIC_API_BASE_URL: process.env.NEXT_PUBLIC_API_BASE_URL,
  NEXT_PUBLIC_SITE_URL: process.env.NEXT_PUBLIC_SITE_URL || 'http://localhost:3000',
  NEXT_PUBLIC_POSTS_PER_PAGE: process.env.NEXT_PUBLIC_POSTS_PER_PAGE || '10',
  NODE_ENV: process.env.NODE_ENV || 'development',
} as const;

export { env };
```

### 优点

* 无需安装额外依赖

* 保持现有代码结构不变

* 提供类型安全的环境变量访问

